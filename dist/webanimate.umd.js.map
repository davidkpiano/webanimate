{"version":3,"file":"webanimate.umd.js","sources":["../src/webanimate.ts"],"sourcesContent":["/// <reference types=\"web-animations-js\" />\n\nclass WebAnimator {\n  private styleElement: HTMLStyleElement;\n\n  constructor() {\n    this.styleElement = document.createElement('style');\n    this.styleElement.type = 'text/css';\n\n    document.getElementsByTagName('head')![0].appendChild(this.styleElement);\n  }\n\n  addAnimation(element: HTMLElement, keyframes: AnimationKeyFrame[]) {\n    const id = `anim-${Math.floor(Math.random() * 100)}`;\n\n    const anim = `\n@keyframes ${id} {\n  ${keyframes\n    .map((keyframe, i) => {\n      const offset = 100 / (keyframes.length - 1) * i;\n\n      return `${offset}% {\n${Object.keys(keyframe)\n        .map(key => {\n          const value = keyframe[key];\n          return `${key}: ${value};`;\n        })\n        .join('\\n')}\n}`;\n    })\n    .join('\\n')}\n}`;\n\n    element.style.setProperty('animation', `${id} 1s infinite`);\n    this.styleElement.innerHTML = anim;\n  }\n}\n\nconst as = new WebAnimator();\n\nas.addAnimation(document.body, [{ background: 'red' }, { background: 'green' }]);\n"],"names":[],"mappings":";;;;;;AAAA;AAEA;IAGE;QACE,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,UAAU,CAAC;QAEpC,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC1E;IAED,kCAAY,GAAZ,UAAa,OAAoB,EAAE,SAA8B;QAC/D,IAAM,EAAE,GAAG,UAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAG,CAAC;QAErD,IAAM,IAAI,GAAG,kBACJ,EAAE,cACX,SAAS;aACR,GAAG,CAAC,UAAC,QAAQ,EAAE,CAAC;YACf,IAAM,MAAM,GAAG,GAAG,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAEhD,OAAU,MAAM,aACpB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;iBACd,GAAG,CAAC,UAAA,GAAG;gBACN,IAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC5B,OAAU,GAAG,UAAK,KAAK,MAAG,CAAC;aAC5B,CAAC;iBACD,IAAI,CAAC,IAAI,CAAC,QACjB,CAAC;SACE,CAAC;aACD,IAAI,CAAC,IAAI,CAAC,QACb,CAAC;QAEC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAK,EAAE,iBAAc,CAAC,CAAC;QAC5D,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;KACpC;IACH,kBAAC;CAAA,IAAA;AAED,IAAM,EAAE,GAAG,IAAI,WAAW,EAAE,CAAC;AAE7B,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;;;;"}